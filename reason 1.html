<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Cool Chat â€” Friendly Roast Bot</title>

<!-- Google font (optional) -->
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">

<style>
  :root{
    --bg1: #0f1724;
    --bg2: #082032;
    --glass: rgba(255,255,255,0.06);
    --accent: #7dd3fc;
    --accent-2: #60a5fa;
    --muted: rgba(255,255,255,0.6);
    --success: #86efac;
    --danger: #fca5a5;
    --radius: 14px;
    --max-w: 980px;
  }

  html,body{
    height:100%;
    margin:0;
    font-family: 'Inter', system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    background: radial-gradient(1200px 700px at 10% 20%, rgba(125,211,252,0.06), transparent 10%),
                radial-gradient(900px 600px at 90% 80%, rgba(96,165,250,0.05), transparent 10%),
                linear-gradient(180deg,var(--bg1), var(--bg2));
    color:#e6eef8;
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
  }

  .wrap{
    max-width: var(--max-w);
    margin: 36px auto;
    padding: 28px;
    display: grid;
    grid-template-columns: 360px 1fr;
    gap: 24px;
  }

  /* Left panel - controls */
  .panel {
    background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));
    border-radius: var(--radius);
    padding: 18px;
    box-shadow: 0 6px 24px rgba(2,6,23,0.5), inset 0 1px 0 rgba(255,255,255,0.02);
    border: 1px solid rgba(255,255,255,0.04);
  }

  .brand {
    display:flex; gap:12px; align-items:center; margin-bottom:14px;
  }
  .logo {
    width:46px; height:46px; border-radius:10px;
    background: linear-gradient(135deg,var(--accent),var(--accent-2));
    display:flex; align-items:center; justify-content:center; font-weight:700; color:#06283d;
    box-shadow: 0 6px 18px rgba(96,165,250,0.12);
  }
  h1{ font-size:18px; margin:0; letter-spacing: -0.3px; }
  p.sub { margin:6px 0 0; color:var(--muted); font-size:13px; }

  .controls { margin-top:18px; display:flex; flex-direction:column; gap:12px;}

  .toggle {
    background: rgba(255,255,255,0.02);
    border-radius: 12px;
    padding:8px;
    display:flex; align-items:center; gap:8px; justify-content:space-between;
    border: 1px solid rgba(255,255,255,0.03);
  }

  .modes {
    display:flex; gap:8px;
  }

  .mode-btn {
    padding:8px 12px; border-radius:8px; cursor:pointer; font-weight:600;
    color:var(--muted); background:transparent; border: none;
  }
  .mode-btn.active {
    background: linear-gradient(90deg, rgba(125,211,252,0.12), rgba(96,165,250,0.08));
    color: white;
    box-shadow: 0 4px 12px rgba(96,165,250,0.06);
  }

  .small { font-size:13px; color:var(--muted); }

  .preset-list { display:flex; gap:8px; flex-wrap:wrap; margin-top:6px; }
  .chip {
    padding:6px 10px; background: rgba(255,255,255,0.03); border-radius:999px; cursor:pointer; font-size:13px;
    border:1px solid rgba(255,255,255,0.02);
  }

  /* Right panel - chat */
  .chat-wrap {
    display:flex; flex-direction:column; height:640px; gap:12px;
  }

  .chat-window {
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border-radius: 14px; padding:18px; flex:1; overflow:auto; border:1px solid rgba(255,255,255,0.03);
    box-shadow: 0 8px 28px rgba(2,6,23,0.55);
    display:flex; flex-direction:column; gap:12px;
  }

  .messages { display:flex; flex-direction:column; gap:10px; }

  .msg {
    max-width:78%; padding:10px 12px; border-radius:12px; font-size:15px; line-height:1.3;
    word-wrap:break-word; box-shadow: 0 4px 10px rgba(2,6,23,0.35);
    opacity:0; transform: translateY(6px);
    animation: pop .18s ease forwards;
  }

  @keyframes pop { to { opacity:1; transform: translateY(0);} }

  .msg.user { margin-left:auto; background: linear-gradient(180deg,#0b75c2,#0666b8); color: #ecf8ff; border-bottom-right-radius:4px; }
  .msg.bot { margin-right:auto; background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01)); color: #e6eef8; border-bottom-left-radius:4px; border:1px solid rgba(255,255,255,0.02); }

  .meta { font-size:12px; color:var(--muted); margin-bottom:6px; display:flex; gap:8px; align-items:center; }
  .meta .dot { width:8px; height:8px; border-radius:50%; background:var(--accent); box-shadow: 0 0 12px rgba(125,211,252,0.08); }

  .typing {
    width:76px; height:30px; display:inline-block; background: rgba(0,0,0,0.0); vertical-align:middle;
  }
  .dot-typing span { display:inline-block; width:8px; height:8px; margin:0 3px; background:rgba(255,255,255,0.18); border-radius:50%; opacity:0.9; animation: blink 1s infinite; }
  .dot-typing span:nth-child(2){ animation-delay: .12s }
  .dot-typing span:nth-child(3){ animation-delay: .24s }
  @keyframes blink { 0% { transform: translateY(0); opacity:.2 } 50% { transform: translateY(-6px); opacity:1 } 100% { transform: translateY(0); opacity:.2 } }

  .composer {
    display:flex; gap:12px; align-items:center;
    padding:12px; border-radius:12px;
    background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.008));
    border:1px solid rgba(255,255,255,0.02);
  }

  .input {
    flex:1; display:flex; gap:8px; align-items:center;
  }
  .input input[type="text"]{
    width:100%; padding:12px 14px; border-radius:10px; border:none; outline:none; font-size:15px;
    background: rgba(255,255,255,0.02); color:inherit;
  }
  .send-btn {
    padding:10px 14px; border-radius:10px; background: linear-gradient(90deg,var(--accent),var(--accent-2));
    border:none; color:#052238; font-weight:700; cursor:pointer;
    box-shadow: 0 8px 20px rgba(96,165,250,0.08);
  }

  .small-muted { font-size:13px; color:var(--muted); }

  /* Responsive */
  @media (max-width:980px){
    .wrap{ grid-template-columns:1fr; padding:18px; }
    .chat-wrap{ height:72vh; }
  }
</style>
</head>
<body>

<div class="wrap">
  <!-- Left Control Panel -->
  <aside class="panel" aria-label="controls">
    <div class="brand">
      <div class="logo">CG</div>
      <div>
        <h1>Cool Chat</h1>
        <p class="sub">Friendly Roast Bot â€” modern & local. No tracking, no servers.</p>
      </div>
    </div>

    <div class="controls">
      <div>
        <div class="small">Mode</div>
        <div class="toggle" role="tablist" aria-label="mode toggle">
          <div class="modes">
            <button class="mode-btn active" id="mode-friendly" data-mode="friendly">Friendly</button>
            <button class="mode-btn" id="mode-roast" data-mode="roast">Roast</button>
          </div>
          <div class="small-muted">Choose tone</div>
        </div>
      </div>

      <div>
        <div class="small">Presets</div>
        <div class="preset-list">
          <div class="chip" data-preset="joke">Short Joke</div>
          <div class="chip" data-preset="compliment">Compliment</div>
          <div class="chip" data-preset="quirky">Quirky</div>
        </div>
      </div>

      <div>
        <div class="small">Behavior</div>
        <div class="small-muted">Toggle typing delay for realism</div>
        <label style="display:flex; gap:8px; align-items:center; margin-top:8px;">
          <input type="checkbox" id="toggle-delay" checked />
          <span class="small">Typing delay</span>
        </label>
      </div>

      <div style="margin-top:10px; display:flex; gap:8px;">
        <button id="clear-btn" class="chip">Clear Chat</button>
        <button id="download-btn" class="chip">Save Log</button>
      </div>

      <p style="margin-top:14px; color:var(--muted); font-size:13px;">
        Edit responses inside the script (the <code>roasts</code> and <code>friendlyReplies</code> arrays). Keep it fun and respectful.
      </p>
    </div>
  </aside>

  <!-- Right Chat Panel -->
  <main class="chat-wrap" aria-live="polite">
    <div class="chat-window" id="chatWindow" tabindex="0">
      <div class="meta">
        <div class="dot" aria-hidden="true"></div>
        <div class="small-muted">Local-only bot Â· No internet required</div>
      </div>

      <div class="messages" id="messages">
        <!-- messages injected here -->
        <div class="msg bot" role="status">
          Hey! I'm your friendly chat bot. Choose a mode and say hi ðŸ‘‹
        </div>
      </div>
    </div>

    <form class="composer" id="composer" onsubmit="return false;">
      <div class="input">
        <input id="userInput" type="text" placeholder="Type something fun..." autocomplete="off" />
      </div>
      <div style="display:flex; gap:8px; align-items:center;">
        <button id="sendBtn" class="send-btn" type="button">Send</button>
      </div>
    </form>
  </main>
</div>

<script>
/* ===========================
   Editable reply lists
   ===========================
   Keep replies respectful. If you want "way more mean" edit arrays here, but
   don't include personal attacks or hateful content.
*/

const friendlyReplies = [
  "Youâ€™re doing great â€” keep going! ðŸŒŸ",
  "That was a clever thought. I like it.",
  "You have a neat way of seeing things.",
  "Small wins count. You got this!",
  "Nice one â€” that made me smile ðŸ˜„"
];

const roasts = [
  // Playful / edgy but non-personal
  "Your brain's on airplane mode â€” still reconnecting.",
  "Youâ€™ve got the attention span of a goldfish with Wi-Fi.",
  "You're the plot twist nobody saw coming... because nothing was happening.",
  "If confusion were currency you'd be rich in it.",
  "You operate on 'maybe tomorrow' time."
];

/* If you want extra edge, add to another array and switch, but keep it non-harmful. */

/* ===========================
   App logic
   =========================== */

const messagesEl = document.getElementById('messages');
const inputEl = document.getElementById('userInput');
const sendBtn = document.getElementById('sendBtn');
const modeFriendlyBtn = document.getElementById('mode-friendly');
const modeRoastBtn = document.getElementById('mode-roast');
const toggleDelay = document.getElementById('toggle-delay');
const clearBtn = document.getElementById('clear-btn');
const downloadBtn = document.getElementById('download-btn');

let mode = 'friendly'; // 'friendly' or 'roast'

// helper: add message bubble
function addMessage(text, who='bot') {
  const el = document.createElement('div');
  el.className = 'msg ' + (who === 'user' ? 'user' : 'bot');
  el.textContent = text;
  messagesEl.appendChild(el);
  messagesEl.parentElement.scrollTop = messagesEl.parentElement.scrollHeight;
}

// helper: show typing indicator, returns element to remove later
function showTyping() {
  const typingWrap = document.createElement('div');
  typingWrap.className = 'msg bot';
  typingWrap.setAttribute('aria-hidden','true');
  typingWrap.innerHTML = '<div class="dot-typing typing" aria-hidden="true"><span></span><span></span><span></span></div>';
  messagesEl.appendChild(typingWrap);
  messagesEl.parentElement.scrollTop = messagesEl.parentElement.scrollHeight;
  return typingWrap;
}

function pickReply(userText='') {
  if (mode === 'friendly') {
    // small chance to respond with a relevant compliment
    return friendlyReplies[Math.floor(Math.random() * friendlyReplies.length)];
  } else {
    return roasts[Math.floor(Math.random() * roasts.length)];
  }
}

// send flow
function sendMessage() {
  const text = inputEl.value.trim();
  if (!text) return;
  addMessage(text, 'user');
  inputEl.value = '';
  inputEl.focus();

  const typingNode = showTyping();
  const delayEnabled = toggleDelay.checked;

  // nicer delay: depends on length
  const base = delayEnabled ? Math.min(1400 + text.length * 20, 2400) : 300;
  setTimeout(() => {
    typingNode.remove();
    const reply = pickReply(text);
    addMessage(reply, 'bot');
  }, base);
}

// mode toggle handlers
function setMode(newMode) {
  mode = newMode;
  if (mode === 'friendly') {
    modeFriendlyBtn.classList.add('active');
    modeRoastBtn.classList.remove('active');
  } else {
    modeRoastBtn.classList.add('active');
    modeFriendlyBtn.classList.remove('active');
  }
}

// clear chat
clearBtn.addEventListener('click', () => {
  messagesEl.innerHTML = '';
  addMessage("Chat cleared â€” ready when you are! ðŸ‘‹", 'bot');
});

// download chat as text file
downloadBtn.addEventListener('click', () => {
  const nodes = Array.from(messagesEl.querySelectorAll('.msg'));
  const lines = nodes.map(n => (n.classList.contains('user') ? 'You: ' : 'Bot: ') + n.textContent);
  const blob = new Blob([lines.join('\n')], { type: 'text/plain' });
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url; a.download = 'chat-log.txt';
  document.body.appendChild(a); a.click(); a.remove();
  URL.revokeObjectURL(url);
});

// presets
document.querySelectorAll('.chip[data-preset]').forEach(el=>{
  el.addEventListener('click', () => {
    const p = el.getAttribute('data-preset');
    if (p === 'joke') inputEl.value = "Tell me a short joke";
    if (p === 'compliment') inputEl.value = "Give me a quick compliment";
    if (p === 'quirky') inputEl.value = "Say something quirky";
    inputEl.focus();
  });
});

// mode buttons
modeFriendlyBtn.addEventListener('click', () => setMode('friendly'));
modeRoastBtn.addEventListener('click', () => setMode('roast'));

// send actions
sendBtn.addEventListener('click', sendMessage);
inputEl.addEventListener('keydown', (e) => {
  if (e.key === 'Enter' && !e.shiftKey) {
    e.preventDefault(); sendMessage();
  }
});

// seed welcome message
setTimeout(()=> {
  addMessage("Tip: toggle 'Typing delay' for a more human feel. Edit replies in the script to customize.", 'bot');
}, 700);

</script>
</body>
</html>
